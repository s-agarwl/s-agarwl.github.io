import{P as s,r as i,j as e,M as D}from"./index-CRTSx0q8.js";import{S as P}from"./Section-D3UBuPoH.js";const C=({content:t,containerClassName:m="h-40 flex items-center justify-left text-2xl text-gray-800",prefixClassName:j="font-mono",textClassName:T="font-mono text-gray-600",cursorClassName:v="animate-blink text-gray-600 font-mono"})=>{const[r,o]=i.useState(""),[c,x]=i.useState(!1),[u,f]=i.useState(0),[l,h]=i.useState("initial"),n=(t==null?void 0:t.prefix)||"I am ",d=i.useMemo(()=>(t==null?void 0:t.phrases)||["loading..."],[t==null?void 0:t.phrases]),g=100,N=50,y=1e3,p=500,b=2e3,w=i.useRef(null),a=(k,E)=>{w.current=setTimeout(k,E)};i.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),i.useEffect(()=>{l==="initial"&&a(()=>{h("prefix")},1e3)},[l]),i.useEffect(()=>{l==="prefix"&&(r.length<n.length?a(()=>{o(n.substring(0,r.length+1))},g):a(()=>{h("thinking"),o(n)},p))},[r,l,n]),i.useEffect(()=>{l==="thinking"&&(o(n),a(()=>{h("phrases")},b))},[l,n,b]);const S=()=>l!=="thinking"?null:e.jsxs("span",{className:"inline-flex items-center ml-2",children:[e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot1"}),e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot2"}),e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot3"})]});return i.useEffect(()=>{if(l!=="phrases")return;const k=n+d[u],E=r===k,R=u===d.length-1;c?c&&(r===n?a(()=>{x(!1),f($=>$+1)},p):a(()=>{o(r.substring(0,r.length-1))},N)):E?R||a(()=>{x(!0)},y):a(()=>{o(k.substring(0,r.length+1))},g)},[r,c,u,d,n,l]),e.jsx("div",{className:m,children:e.jsxs("p",{className:"text-left font-mono",children:[r&&e.jsx("span",{className:j,children:r.substring(0,n.length)}),r.length>n.length&&l!=="thinking"&&e.jsx("span",{className:T,children:r.substring(n.length)}),e.jsx("span",{className:v,children:"|"}),l==="thinking"&&S()]})})};C.propTypes={content:s.shape({prefix:s.string,phrases:s.arrayOf(s.string)}),containerClassName:s.string,prefixClassName:s.string,textClassName:s.string,cursorClassName:s.string};const I=({content:t,sectionId:m,parentId:j,config:T})=>{var g,N,y,p,b;const[v,r]=i.useState(""),[o,c]=i.useState(!0),[x,u]=i.useState(null),f=j?`${j}-${m}`:m,l=t.resourceDir||`/${m}/`,h=t.markdownFile||"content.md",n=`${l}${h}`,d=(g=t.banner)!=null&&g.image?`${l}${t.banner.image}`:null;return i.useEffect(()=>{(async()=>{try{const a=await fetch(n);if(!a.ok)throw new Error(`Failed to fetch article content: ${a.status}`);const S=await a.text();r(S),c(!1)}catch(a){console.error("Error fetching article content:",a),u(a.message),c(!1)}})()},[n]),o?e.jsx(P,{id:f,children:e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsxs("div",{className:"animate-pulse flex space-x-4",children:[e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"})]})})}):x?e.jsx(P,{id:f,children:e.jsxs("div",{className:"text-red-500 py-4 text-center",children:["Error loading content: ",x,". Please refresh the page or try again later."]})}):e.jsxs(P,{id:f,children:[d&&e.jsx("div",{className:"relative w-full h-64 md:h-80 lg:h-96 rounded-lg overflow-hidden mb-0",style:{backgroundImage:`url('${d}')`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:((N=t.banner)==null?void 0:N.showTitle)&&((y=t.banner)==null?void 0:y.title)&&e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center px-4 bg-black bg-opacity-40",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:t.banner.title}),((p=t.banner)==null?void 0:p.subtitle)&&e.jsx("p",{className:"text-xl text-white text-center max-w-2xl",children:t.banner.subtitle})]})}),e.jsx("div",{className:"flex flex-col md:flex-row content-center mb-0",children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center",children:t.title})}),((b=t.animation)==null?void 0:b.enabled)&&e.jsx(C,{content:{prefix:t.animation.prefix||"I am ",phrases:t.animation.phrases||["a researcher","a developer","a creative thinker"]}}),e.jsx("div",{className:"prose lg:prose-xl max-w-none",children:e.jsx(D,{className:"markdown-content",children:v})})]})};I.propTypes={content:s.shape({title:s.string.isRequired,resourceDir:s.string,markdownFile:s.string,banner:s.shape({image:s.string,title:s.string,subtitle:s.string,showTitle:s.bool}),animation:s.shape({enabled:s.bool,prefix:s.string,phrases:s.arrayOf(s.string)})}).isRequired,sectionId:s.string.isRequired,parentId:s.string,config:s.object};export{I as default};
