import{P as s,r as a,j as e,M as F}from"./index-qDljs7Wr.js";import{S as E}from"./Section-D11xENrE.js";const T=({content:t,containerClassName:b="h-40 flex items-center justify-left text-2xl text-gray-800",prefixClassName:j="font-mono",textClassName:P="font-mono text-gray-600",cursorClassName:k="animate-blink text-gray-600 font-mono"})=>{const[n,c]=a.useState(""),[d,f]=a.useState(!1),[h,u]=a.useState(0),[i,m]=a.useState("initial"),r=(t==null?void 0:t.prefix)||"I am ",x=a.useMemo(()=>(t==null?void 0:t.phrases)||["loading..."],[t==null?void 0:t.phrases]),g=100,N=50,w=1e3,p=500,v=2e3,l=a.useRef(null),o=(y,S)=>{l.current=setTimeout(y,S)};a.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]),a.useEffect(()=>{i==="initial"&&o(()=>{m("prefix")},1e3)},[i]),a.useEffect(()=>{i==="prefix"&&(n.length<r.length?o(()=>{c(r.substring(0,n.length+1))},g):o(()=>{m("thinking"),c(r)},p))},[n,i,r]),a.useEffect(()=>{i==="thinking"&&(c(r),o(()=>{m("phrases")},v))},[i,r,v]);const C=()=>i!=="thinking"?null:e.jsxs("span",{className:"inline-flex items-center ml-2",children:[e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot1"}),e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot2"}),e.jsx("span",{className:"h-2.5 w-2.5 bg-gray-500 rounded-full mx-0.5 mb-0 animate-dot3"})]});return a.useEffect(()=>{if(i!=="phrases")return;const y=r+x[h],S=n===y,R=h===x.length-1;d?d&&(n===r?o(()=>{f(!1),u(I=>I+1)},p):o(()=>{c(n.substring(0,n.length-1))},N)):S?R||o(()=>{f(!0)},w):o(()=>{c(y.substring(0,n.length+1))},g)},[n,d,h,x,r,i]),e.jsx("div",{className:b,children:e.jsxs("p",{className:"text-left font-mono",children:[n&&e.jsx("span",{className:j,children:n.substring(0,r.length)}),n.length>r.length&&i!=="thinking"&&e.jsx("span",{className:P,children:n.substring(r.length)}),e.jsx("span",{className:k,children:"|"}),i==="thinking"&&C()]})})};T.propTypes={content:s.shape({prefix:s.string,phrases:s.arrayOf(s.string)}),containerClassName:s.string,prefixClassName:s.string,textClassName:s.string,cursorClassName:s.string};const $=({content:t,sectionId:b,parentId:j,config:P})=>{var x,g,N,w,p;const[k,n]=a.useState(""),[c,d]=a.useState(!0),[f,h]=a.useState(null),u=j?`${j}-${b}`:b,m=`${t.markdownFile||"content.md"}`,r=(x=t.banner)!=null&&x.image?`${t.banner.image}`:null;return a.useEffect(()=>{(async()=>{try{const l=await fetch(m);if(!l.ok)throw new Error(`Failed to fetch article content: ${l.status}`);const o=await l.text();n(o),d(!1)}catch(l){console.error("Error fetching article content:",l),h(l.message),d(!1)}})()},[m]),c?e.jsx(E,{id:u,children:e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsxs("div",{className:"animate-pulse flex space-x-4",children:[e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"h-5 w-5 bg-gray-300 rounded-full"})]})})}):f?e.jsx(E,{id:u,children:e.jsxs("div",{className:"text-red-500 py-4 text-center",children:["Error loading content: ",f,". Please refresh the page or try again later."]})}):e.jsxs(E,{id:u,children:[r&&e.jsx("div",{className:"relative w-full h-64 md:h-80 lg:h-96 rounded-lg overflow-hidden mb-0",style:{backgroundImage:`url('${r}')`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:((g=t.banner)==null?void 0:g.showTitle)&&((N=t.banner)==null?void 0:N.title)&&e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center px-4 bg-black bg-opacity-40",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:t.banner.title}),((w=t.banner)==null?void 0:w.subtitle)&&e.jsx("p",{className:"text-xl text-white text-center max-w-2xl",children:t.banner.subtitle})]})}),e.jsx("div",{className:"flex flex-col md:flex-row content-center mb-0",children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center",children:t.title})}),((p=t.animation)==null?void 0:p.enabled)&&e.jsx(T,{content:{prefix:t.animation.prefix||"I am ",phrases:t.animation.phrases||["a researcher","a developer","a creative thinker"]}}),e.jsx("div",{className:"prose lg:prose-xl max-w-none",children:e.jsx(F,{className:"markdown-content",children:k})})]})};$.propTypes={content:s.shape({title:s.string.isRequired,markdownFile:s.string,banner:s.shape({image:s.string,title:s.string,subtitle:s.string,showTitle:s.bool}),animation:s.shape({enabled:s.bool,prefix:s.string,phrases:s.arrayOf(s.string)})}).isRequired,sectionId:s.string.isRequired,parentId:s.string,config:s.object};export{$ as default};
